<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/bootstrap.min.css">

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			h3 {
				font-weight: bold;
				margin-top: 0;
				text-transform: uppercase;
			}
			h5 {
				font-style: italic;
			}
			h4 {
				font-weight: 400;
				margin-top: 20px;
			}
			.title {
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				text-align: center;
				color: white;
				padding: 16px;
				text-shadow: 1px 0px 2px rgba(150, 150, 150, 1);
			}
			body {
				overflow-y: scroll;
			}
			ol, ul {
				padding-left: 1.2em;
			}
			li {
				font-weight: bold;
			}
			li > span {
				font-weight: normal;
			}
			.cem-label {
				display: inline-block;
				padding-top: 4px;
				padding-bottom: 4px;
				padding-left: 8px;
				padding-right: 8px;
				margin: 4px;
			}
			.label-container {
				margin: -4px;
				margin-bottom: 12px;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>

		<script src="../code.js"></script>
		<script src="../debug.js"></script>

		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	</head>

	<body>
		<div class="foundation">
			<div id="top-margin"></div>

			<div style="position: relative;">
				<img src="cover.jpg" style="width: 100%; border: solid 2px black;">
				<div class="title">
					<h3 class="accent">What are you frightened of?</h3>
				</div>
			</div>

			<h4><span class="accent">❶</span> <b>Pre-listening</b></h4>
			<p>What are you frightened of? Look at the list below and make notes on (or discuss) the ideas.</p>
			<div class="label-container">
				<div class='cem-label'>spiders</div>
				<div class='cem-label'>heights</div>
				<div class='cem-label'>ghosts</div>
				<div class='cem-label'>public speaking</div>
				<div class='cem-label'>clowns</div>
			</div>

			<h4><span class="accent">❷</span> <b>Listening I</b></h4>
			<p>You’re going to listen to four people talking about things that have frightened them. Listen once and put the four story titles below in the correct order.</p>
			<div class="label-container">
				<div class='cem-label'>The bungalow</div>
				<div class='cem-label'>The car</div>
				<div class='cem-label'>The apartment</div>
				<div class='cem-label'>The tent</div>
			</div>

			<h4><span class="accent">❸</span> <b>Listening II</b></h4>
			<p>Listen again. Then, write a short 30-word summary for each story.</p>

			<div id="bottom-margin"></div>
		</div>

		<div style="display: none;">
			<span data-start="11674" data-end="13411"></span>
			<span data-start="13412" data-end="19838"></span>
			<span data-start="19839" data-end="32100"></span>
			<span data-start="32101" data-end="36521"></span>
			<span data-start="36522" data-end="43440"></span>
			<span data-start="43441" data-end="49602"></span>
			<span data-start="49603" data-end="56091"></span>
			<span data-start="56092" data-end="60726"></span>
			<span data-start="60727" data-end="62853"></span>
			<span data-start="62854" data-end="67544"></span>
			<span data-start="67545" data-end="75224"></span>
			<span data-start="75225" data-end="84830"></span>
			<span data-start="84831" data-end="88266"></span>
			<span data-start="88267" data-end="92044"></span>
			<span data-start="92045" data-end="94120"></span>
			<span data-start="94121" data-end="103213"></span>
			<span data-start="103214" data-end="111516"></span>
			<span data-start="111517" data-end="115269"></span>
			<span data-start="115270" data-end="120178"></span>
			<span data-start="120179" data-end="126918"></span>
			<span data-start="126919" data-end="134606"></span>
			<span data-start="134607" data-end="137706"></span>
			<span data-start="137707" data-end="143492"></span>
			<span data-start="143493" data-end="145531"></span>
			<span data-start="145532" data-end="148634"></span>
			<span data-start="148635" data-end="154944"></span>
			<span data-start="154945" data-end="162768"></span>
			<span data-start="162769" data-end="169141"></span>
			<span data-start="169142" data-end="174752"></span>
			<span data-start="174753" data-end="176602"></span>
			<span data-start="176603" data-end="173301"></span>
			<span data-start="173302" data-end="189213"></span>
			<span data-start="189214" data-end="194974"></span>
			<span data-start="194975" data-end="209486"></span>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					#top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					#bottom-margin { height: " + bottomMargin + "px; } \
					body { background: -webkit-linear-gradient(#" + accentColor + ",#" + backgroundColor + "); background-repeat: no-repeat; -webkit-background-attachment: fixed; } \
					.foundation { margin-left: " + horizontalMargin + "px; padding-left: " + horizontalMargin + "px; padding-right: " + horizontalMargin + "px; background-color: #" + backgroundColor + "; } \
					.cem-label { color: #" + backgroundColor + "; background-color: #" + textColor + "; -webkit-box-shadow: 0 0 1.5px 2px " + tinycolor(accentColor).setAlpha(.12).toRgbString() + ", 0 1px 1px 0 " + tinycolor(accentColor).setAlpha(.24).toRgbString() + "; box-shadow: 0 0 1.5px 2px " + tinycolor(accentColor).setAlpha(.12).toRgbString() + ", 0 1px 1px 0 " + tinycolor(accentColor).setAlpha(.24).toRgbString() + "; } \
				");
			}

			prevScroll = 0;

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					scroll: prevScroll,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				$('body').scrollTop((state['scroll'] || 0) * $('body').height());
				prevScroll = $('body').scrollTop() / $('body').height();

				restoringInstanceState = false;
			}

			setInterval(function() {
				scroll = $('body').scrollTop() / $('body').height();
				if(scroll != prevScroll) {
					prevScroll = scroll;
					saveInstanceState();
				}
			}, 3000);

			lastScrollTop = 0;
			if(typeof(app) != 'undefined') {
				$(document).scroll(function() {
					scrollTop = $(document).scrollTop();

					if(scrollTop < topMargin) {
						if(scrollTop < lastScrollTop && lastScrollTop >= topMargin)
							app.setToolbarScrollable(false);

					} else if(lastScrollTop < topMargin)
							app.setToolbarScrollable(true);

					lastScrollTop = scrollTop;
				});
			}
		</script>
	</body>
</html>
