<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css">

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			#page-indicator {
				width: 100%;
				position: flex;
				z-index: 1;
				text-align: center;
				display: none;
			}
			.dot {
				display: inline-block;
				width: 10px;
				height: 10px;
				border-radius: 5px;
				margin: 3px;
				/* background-color: #8999A6; */
			}
			.dot.active {
				/* background-color: azure; */
			}

			.cem-card {
				position: relative;
				transition: box-shadow .25s;
				border-radius: 2px;
				-webkit-box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.12), 0 1px 6px 0 rgba(0, 0, 0, 0.12);
				box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.12), 0 1px 6px 0 rgba(0, 0, 0, 0.12);
				max-width: 100%;
			}
			.cem-card .card-image {
				position: relative;
			}
			.cem-card .card-image img {
				display: block;
				border-radius: 2px 2px 0 0;
				position: relative;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				width: 100%;
			}
			.cem-card .card-image .card-title {
				color: #fff;
				position: absolute;
				bottom: 0;
				left: 0;
				padding-left: 20px;
				padding-right: 20px;
				padding-top: 10px;
				padding-bottom: 10px;
				text-transform: uppercase;
				background-color: black;
				font-weight: bold;
				background-color: rgba(0,0,0,.5);
				font-size: 18px;
			}
			.cem-card .card-content {
				border-radius: 0 0 2px 2px;
				padding-left: 20px;
				padding-right: 20px;
				padding-bottom: 10px;
				padding-top: 10px;
				font-style: italic;
			}
			.cem-card .card-action {
				border-top: 1px solid rgba(0,0,0,0.2);
				padding: 20px;
				padding-bottom: 0;
				transition: color .3s ease;
				text-transform: uppercase;
				text-decoration: none;
				-webkit-tap-highlight-color: transparent;
			}

			.swipe {
				overflow: hidden;
				visibility: hidden;
				position: relative;
			}
			.swipe-wrap {
				position: relative;
			}
			.swipe-wrap > div {
				float: left;
				width: 20px;
				position: relative;
				overflow: hidden;
				overflow-y: auto;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>
		<script src="swipe.min.js"></script>

		<script src="../code.js"></script>
		<script src="../debug.js"></script>
	</head>

	<body>
		<div id="page-indicator" style="position: absolute; z-index: 1;"></div>

		<div id='swipeable' style='margin:0 auto;' class='swipe'>
			<div class='swipe-wrap'>
				<div>
					<div class='top-margin'></div>
					<div class='cem-card'>
						<div class='card-action' style="text-transform: none; padding: 24px; padding-top: 48px; text-align: center; border: none;">
							<p>
								The verb <b>to get</b> is extremely useful. It can be used in a number of expressions. It can also mean several different things: <i>to become, to arrive, to receive, to buy.</i>
							</p>
							<p style="font-weight: 300;">The words in brackets can be substituted for others.</p>
						</div>
					</div>
					<div class='bottom-margin'></div>
				</div>
			</div>
		</div>

		<div style="display: none;">
			<a class="new-word" data-word="sympathy" data-type="n" data-en="if you have “sympathy” for someone or their situation, you understand / appreciate their situation and / or feel sorry for them">sympathy</a>
			<a class="new-word" data-word="to sink" data-type="vb" data-en="if an object “sinks” in water, it goes to the bottom of the water">sank</a>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			card_template = "\
				<div>\
					<div class='top-margin'></div>\
					<div class='cem-card'>\
						<div class='card-image'>\
							<img class='img-responsive' src='{img}.jpg'>\
							<span class='card-title'>{verb}</span>\
						</div>\
						<div class='card-action'>{def}</div>\
						<div class='card-content'><p>{example}</p></div>\
					</div>\
					<div class='bottom-margin'></div>\
				</div>\
			";
			verbs = ['Get (married)', 'Get (angry)', 'Get (dark)', 'Get lost', 'Get (worse)', 'Get up', 'Get dressed', 'Get (out)', 'Get along with', 'Get (home)', 'Get (an e-mail)', 'Get (a computer)'];
			defs = ['If you “get married”, you marry.', 'If you “get angry”, you become angry.', 'If it “gets dark”, it becomes dark.', 'If you “get lost”, you don’t know where you are.', 'If things “get worse”, they become worse.', 'The time you “get up” is the time you get out of bed.', 'If you “get dressed”, you put on clothes.', 'If you “get out” of a car, you leave the car.', 'If you “get along with” someone, you have a good relationship with them.', 'The time you “get home” is the time you arrive home.', 'If you “get an e-mail”, you receive it.', 'If you “get a computer”, you buy it or someone buys it for you.'];
			examples = ['“We’re getting married next year.”', '“I get angry when people take my things without asking.”', '“It’s getting dark. We should go home.”', '“We got lost in the forest.”', '“If my headache gets worse, I’m going to see a doctor.”', '“I got up at 5am this morning.”', '“I got dressed in just five minutes.”', '“She got out of the car.”', '“I get along with my work colleagues.”', '“I got home really late last night.”', '“I got lots of e-mails yesterday.”', '“I got a new computer last month.”'];
			var i = 0;
			$('#page-indicator').append('<span class="dot"></span>');
			verbs.forEach(function(verb) {
				$('.swipe-wrap').append(card_template.replace(/\{verb\}/g, verb).replace(/\{def\}/g, defs[i]).replace(/\{example\}/, examples[i]).replace(/\{img\}/g, ++i));
				$('#page-indicator').append('<span class="dot"></span>');
			});
			$('.swipe-wrap').append("<div><div class='top-margin'></div><div class='cem-card'><div class='card-action' style='text-transform: none; padding: 24px; padding-top: 48px; text-align: center; border: none;'><p>The best way to learn any words or expressions is by seeing or hearing them in context when you’re reading or listening to English. Make a note of any words or expressions that you like (or want to learn) and write these down in sentences. Remember, always record language in phrases or sentences &#8212; never as individual words. You should also practise using the words or expressions as often as you can: in conversation, on the phone, in e-mails, etc.</p></div></div><div class='bottom-margin'></div></div>");
			$('#page-indicator').append('<span class="dot"></span>');

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					.cem-card { background-color: #" + accentColor + "; margin-left: " + horizontalMargin + "px; margin-right: " + horizontalMargin + "px; } \
					.card-content { color: " + newWordColor + "; } \
					.top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					.bottom-margin { height: " + verticalMargin + "px; } \
					#page-indicator { margin-top: " + (topMargin+2*verticalMargin-8) + "px; } \
					.swipe-wrap > div { height: " + height + "px; } \
					.dot { background-color: " + tinycolor(accentColor).brighten().brighten().toHexString() + "; } \
					.dot.active { background-color: " + tinycolor(accentColor).darken().darken().toHexString() + "; }"
				);
			}

			setCurrentSlide = function(index) {
				$('#page-indicator').show();
				$('#page-indicator .dot').eq(index).addClass('active');

				if(typeof(window.swipeable) == 'object' && typeof(window.swipeable.kill) == 'function')
					window.swipeable.kill();

				window.swipeable = $('#swipeable').Swipe({
					startSlide: index,
					callback: function(index,elem) {
						$('#page-indicator .dot').removeClass('active');
						$('#page-indicator .dot').eq(index).addClass('active');

						currentSlide = index;
						saveInstanceState();
					},
				}).data('Swipe');
			}

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					currentSlide: currentSlide,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				setCurrentSlide(state.currentSlide || 0);

				restoringInstanceState = false;
			}
		</script>

	</body>
</html>
