<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css">

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			#page-indicator {
				width: 100%;
				position: flex;
				z-index: 1;
				text-align: center;
				display: none;
			}
			.dot {
				display: inline-block;
				width: 10px;
				height: 10px;
				border-radius: 5px;
				margin: 3px;
				/* background-color: #8999A6; */
			}
			.dot.active {
				/* background-color: azure; */
			}

			.cem-card {
				position: relative;
				transition: box-shadow .25s;
				border-radius: 2px;
				-webkit-box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.12), 0 1px 6px 0 rgba(0, 0, 0, 0.12);
				box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.12), 0 1px 6px 0 rgba(0, 0, 0, 0.12);
				max-width: 100%;
			}
			.cem-card .card-image {
				position: relative;
			}
			.cem-card .card-image img {
				display: block;
				border-radius: 2px 2px 0 0;
				position: relative;
				left: 0;
				right: 0;
				top: 0;
				bottom: 0;
				width: 100%;
			}
			.cem-card .card-image .card-title {
				color: #fff;
				position: absolute;
				bottom: 0;
				left: 0;
				padding-left: 20px;
				padding-right: 20px;
				padding-top: 10px;
				padding-bottom: 10px;
				text-transform: uppercase;
				background-color: black;
				font-weight: bold;
				background-color: rgba(0,0,0,.5);
				font-size: 18px;
			}
			.cem-card .card-content {
				border-radius: 0 0 2px 2px;
				padding-left: 20px;
				padding-right: 20px;
				padding-bottom: 10px;
				padding-top: 10px;
				font-style: italic;
			}
			.cem-card .card-action {
				border-top: 1px solid rgba(0,0,0,0.2);
				padding: 20px;
				padding-bottom: 0;
				transition: color .3s ease;
				text-transform: uppercase;
				text-decoration: none;
				-webkit-tap-highlight-color: transparent;
			}

			.swipe {
				overflow: hidden;
				visibility: hidden;
				position: relative;
			}
			.swipe-wrap {
				position: relative;
			}
			.swipe-wrap > div {
				float: left;
				width: 20px;
				position: relative;
				overflow: hidden;
				overflow-y: auto;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>
		<script src="swipe.min.js"></script>

		<script src="../code.js"></script>
		<script src="../debug.js"></script>
	</head>

	<body>
		<div id="page-indicator" style="position: absolute; z-index: 1;"></div>

		<div id='swipeable' style='margin:0 auto;' class='swipe'>
			<div class='swipe-wrap'>
				<div>
					<div class='top-margin'></div>
					<div class='cem-card'>
						<div class='card-action' style="text-transform: none; padding: 24px; padding-top: 48px; text-align: center; border: none;">
							<p>Here are some useful words and expressions for talking about negotiating.</p>
						</div>
					</div>
					<div class='bottom-margin'></div>
				</div>
			</div>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			card_template = "\
				<div>\
					<div class='top-margin'></div>\
					<div class='cem-card'>\
						<div class='card-image'>\
							<img class='img-responsive' src='{img}.png'>\
							<span class='card-title'>{verb}</span>\
						</div>\
						<div class='card-action'>{def}</div>\
						<div class='card-content'><p>{example}</p></div>\
					</div>\
					<div class='bottom-margin'></div>\
				</div>\
			";
			verbs = ['Agreement', 'Bottom line', 'Budge', 'Point of view', 'Deadlock / stalemate', 'Leverage', 'Lowball', 'Concession', 'Pressure', 'Receptive', 'Trade-off'];
			defs = ['If two parties reach an “agreement”, they both accept each other’s terms and conditions and agree to do business together.', 'Your “bottom line” is the lowest price you can accept.', 'If you won’t “budge”, you won’t move from your negotiating position.', 'Your “point of view” is what you think of something.', 'A situation in which no progress is possible', 'If you’ve got a lot of “leverage”, you have a lot of power.', 'If you make a “lowball” offer, you offer a very low price for something – much lower than you think your opponent will accept.', 'If you make a “concession”, you agree to let someone have something you initially didn’t want to give away.', 'If you put “pressure” on someone, you use aggressive tactics to try to force them to accept what you want.', 'If someone is “receptive” to your ideas, they’re open to or interested in your ideas.', 'A situation in which Party A agrees to one thing in exchange for another thing from Party B.'];
			examples = ['“We failed to reach an agreement with them.”', '“We can drop the price to $20,000 but that’s our bottom line.”', '“They’re prepared to look at offering a guarantee, but they won’t budge on price.”', '“In my point of view, I think we should accept their offer before they change their minds.”', '“Discussions reached a stalemate as no one was willing to change their conditions or lower their price.”', '“We don’t have much leverage so we should probably just accept what they’re offering.”', '“We were expecting them to make a lowball offer, but the price they were asking for was actually quite fair.”', '“They made a concession and reduced the price, but only after the other party had agreed to change the terms of payment.”', '“I think we need to put a bit more pressure on them if we want them to accept our offer.”', '“They seemed to be receptive to our suggestions.”', '“Allowing us to increase the price sounded like a fair trade-off for letting them spread the payments over a longer period of time.”'];
			var i = 0;
			$('#page-indicator').append('<span class="dot"></span>');
			verbs.forEach(function(verb) {
				$('.swipe-wrap').append(card_template.replace(/\{verb\}/g, verb).replace(/\{def\}/g, defs[i]).replace(/\{example\}/, examples[i]).replace(/\{img\}/g, ++i));
				$('#page-indicator').append('<span class="dot"></span>');
			});

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					.cem-card { background-color: #" + accentColor + "; margin-left: " + horizontalMargin + "px; margin-right: " + horizontalMargin + "px; } \
					.card-content { color: " + newWordColor + "; } \
					.top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					.bottom-margin { height: " + verticalMargin + "px; } \
					#page-indicator { margin-top: " + (topMargin+2*verticalMargin-8) + "px; } \
					.swipe-wrap > div { height: " + height + "px; } \
					.dot { background-color: " + tinycolor(accentColor).brighten().brighten().toHexString() + "; } \
					.dot.active { background-color: " + tinycolor(accentColor).darken().darken().toHexString() + "; }"
				);
			}

			setCurrentSlide = function(index) {
				$('#page-indicator').show();
				$('#page-indicator .dot').eq(index).addClass('active');

				if(typeof(window.swipeable) == 'object' && typeof(window.swipeable.kill) == 'function')
					window.swipeable.kill();

				window.swipeable = $('#swipeable').Swipe({
					startSlide: index,
					callback: function(index,elem) {
						$('#page-indicator .dot').removeClass('active');
						$('#page-indicator .dot').eq(index).addClass('active');

						currentSlide = index;
						saveInstanceState();
					},
				}).data('Swipe');
			}

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					currentSlide: currentSlide,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				setCurrentSlide(state.currentSlide || 0);

				restoringInstanceState = false;
			}
		</script>

	</body>
</html>
