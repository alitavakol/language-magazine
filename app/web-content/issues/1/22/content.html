<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<!-- <link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css"> -->

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			body {
				overflow-y: scroll;
			}
			h2 {
				font-weight: bold;
				margin-top: 30%;
			}
			h5 {
				font-style: italic;
				font-weight: bold;
			}
			.title {
/*				position: absolute;*/
/*				top: 16px;*/
/*				right: 24px;*/
				padding: 16px;
				text-align: right;
				color: white;
				text-shadow: 1px 0px 6px rgba(50,50,50,1);
				background: url('cover.jpg');
				background-position: center;
				background-repeat: no-repeat;
				background-size: cover;
				-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24); box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				margin-bottom: 24px;
			}
			.dotted {
				background-image: -webkit-repeating-radial-gradient(center center, rgba(0,0,0,.2), rgba(0,0,0,.2) 1px, transparent 1px, transparent 100%);
				background-image: -moz-repeating-radial-gradient(center center, rgba(0,0,0,.2), rgba(0,0,0,.2) 1px, transparent 1px, transparent 100%);
				background-image: -ms-repeating-radial-gradient(center center, rgba(0,0,0,.2), rgba(0,0,0,.2) 1px, transparent 1px, transparent 100%);
				background-image: repeating-radial-gradient(center center, rgba(0,0,0,.2), rgba(0,0,0,.2) 1px, transparent 1px, transparent 100%);
				-webkit-background-size: 3px 3px;
				-moz-background-size: 3px 3px;
				background-size: 3px 3px;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/jquery.mobile.custom.min.js"></script>
		<script src="../../../../src/main/assets/jquery.mobile.custom.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>

		<script src="../code.js"></script>
		<script src="../debug.js"></script>
	</head>

	<body>
		<div class="foundation">
			<div id="top-margin"></div>

			<div class="title">
				<h2>Through<br>the Roof</h2>
				<h5>Tropical plant surprises staff at botanical garden.</h5>
			</div>

			<div class="lockable"><div id="transcript" style="background-size: contain; background-repeat: no-repeat; background-position: center;">
				<p>
					<span data-start="12026" data-end="23220">“The plant just went crazy; it <a class="new-word" data-word="to shoot up" data-type="phr vb" data-en="to grow very quickly">shot up</a> and went through the glass of the <a class="new-word" data-word="a greenhouse" data-type="n" data-en="a glass house for growing plants">greenhouse</a>,” said shocked members of staff at Bangor University after a Mexican plant grew almost two metres in two days.</span> <span data-start="23221" data-end="27500">The plant, Agave Americana, is an unusual <a class="new-word" data-word="a specimen" data-type="n" data-en="a single plant/animal that is an example of a particular species">specimen</a>.</span> <span data-start="27501" data-end="32910">It grows slowly year after year and then <a class="new-word" data-word="to flower" data-type="vb" data-en="when a plant “flowers”, flowers appear on it">flowers</a> just once before it <a class="new-word" data-word="to wither" data-type="vb" data-en="to become smaller and very dry">withers</a> and dies.</span> <span data-start="32911" data-end="40431">“I was completely <a class="new-word" data-word="dumbfounded" data-type="adj" data-en="shocked; very surprised">dumbfounded</a> when I saw what had happened,” said Dr. Brown, curator of the Bangor University tropical gardens.</span> <span data-start="40432" data-end="50813">Unfortunately Mr Brown, who has been responsible for <a class="new-word" data-word="to care for" data-type="phr vb" data-en="to make sure that something is healthy and in a good condition">caring for</a> the rare plant for the past twenty eight years, was on holiday when the spurt of growth took place and <a class="new-word" data-word="to miss" data-type="vb" data-en="if you “miss” something, you don’t see it">missed</a> the whole thing.</span> <span data-start="50814" data-end="55047">“For many years, it just sat there not doing very much,” said Mr. Brown.</span> <span data-start="55048" data-end="57700">“It was just quietly in its corner on its own.</span> <span data-start="57701" data-end="62800">However, it seems that it must have decided that <a class="new-word" data-word="enough is enough" data-type="exp" data-en="that is sufficient; I don’t want any more of X">enough was enough</a> and it really <a class="new-word" data-word="to go for it" data-type="exp" data-en="to do something in a determined and forceful way">went for it</a>.</span> <span data-start="62801" data-end="66800">I shouldn’t have gone away on holiday as I’ve missed something spectacular.”</span> <span data-start="66801" data-end="71520">After the plant went through the glass, it didn’t stop, and it grew another four metres.</span> <span data-start="71521" data-end="77700">“The sad thing now,” said Dr. Brown “is that it will soon die. But I suppose that’s life.”</span> <span class="accent">✪</span>
				</p>
			</div></div>

			<div id="bottom-margin"></div>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					body { background: -webkit-linear-gradient(#" + accentColor + ",#" + backgroundColor + "); background-repeat: no-repeat; -webkit-background-attachment: fixed; } \
					.foundation { margin-left: " + horizontalMargin + "px; padding-left: " + horizontalMargin + "px; padding-right: " + horizontalMargin + "px; background-color: #" + backgroundColor + "; } \
					#top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					#bottom-margin { height: " + bottomMargin + "px; } \
				");
			}

			prevScroll = 0;

			lock = function(b) {
				transcriptLocked = b;

				if(b) {
					$('#transcript').css('background-image', 'url("key-enter-access-door-place-512.png")').children().css('visibility', 'hidden');
					$('.lockable').addClass('dotted');

				} else {
					$('#transcript').css('background-image', '').children().css('visibility', '');
					$('.lockable').removeClass('dotted');
				}

				saveInstanceState();
			}

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					transcriptLocked: transcriptLocked,
					scroll: prevScroll,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				lock(state.transcriptLocked || true);

				$('body').scrollTop((state['scroll'] || 0) * $('body').height());
				prevScroll = $('body').scrollTop() / $('body').height();

				restoringInstanceState = false;
			}

			taphold = false;
			$('.lockable').tap(function() {
				if(transcriptLocked && !taphold)
					app.makeToast('Tap and hold to reveal transcript.', false);
				taphold = false;
			});
			$('.lockable').taphold(function() {
				taphold = true;
				if(transcriptLocked)
					app.lockTranscript(!transcriptLocked);
			});

			if(typeof(app) != 'undefined')
				app.showLockControls(true);

			setInterval(function() {
				scroll = $('body').scrollTop() / $('body').height();
				if(scroll != prevScroll) {
					prevScroll = scroll;
					saveInstanceState();
				}
			}, 3000);

			lastScrollTop = 0;
			if(typeof(app) != 'undefined') {
				$(document).scroll(function() {
					scrollTop = $(document).scrollTop();

					if(scrollTop < topMargin) {
						if(scrollTop < lastScrollTop && lastScrollTop >= topMargin)
							app.setToolbarScrollable(false);

					} else if(lastScrollTop < topMargin)
							app.setToolbarScrollable(true);

					lastScrollTop = scrollTop;
				});
			}
		</script>
	</body>
</html>