<!DOCTYPE html>
<html>
	<head>
		<title>News Stories</title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css">

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			.wrap-ready {
			}
			#broken-finger {
				-webkit-transform: rotate(4deg);
				transform: rotate(4deg);
				-webkit-box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				/*padding: 5px;*/
				margin: 15px;
				margin-top: 28px;
				margin-bottom: 4px;
				float: right;
				max-width: 50%;
			}
			#snail {
				-webkit-transform: rotate(-3deg);
				transform: rotate(-3deg);
				-webkit-box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				/*padding: 10px;*/
				margin: 10px;
				margin-top: 36px;
				float: right;
				width: 35%;
				max-width: 160px;
			}
			h4 {
				margin-top: 24px;
			}
			p {
				margin: 0 0 0px;
			}
			h1 {
				margin-top: 0;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>

		<script src="../code.js"></script>
	</head>

	<body>
		<div class="cem-container">
			<div id="top-margin"></div>

			<h1 class="alt">Story Time</h1>
			<h3 class="alt"><span data-start="8583" data-end="13300">Jokes, anecdotes and stories as told by native english speakers.</span></h3>

			<div class="transcript">
				<h4><span data-start="15000" data-end="16980">Easy Solutions</span></h4>
				<p><span class='acnt'>Patient:</span> <span data-start="16981" data-end="21450">Doctor, I have a pain in my eye whenever I drink tea.</span></p>
				<p><span class='acnt'>Doctor:</span> <span data-start="21451" data-end="25400">Take the <a class="new-word" data-word="a spoon" data-type="n" data-en="an object you use for eating soup or other liquid food" data-fa="قاشق">spoon</a> out of the <a class="new-word" data-word="a mug" data-type="n" data-en="a cup for cofee / tea" data-fa="فنجان">mug</a> before you drink.</span></p>

				<h4><span data-start="31800" data-end="33400">Attention Seeker</span></h4>
				<p><span class='acnt'>Patient:</span> <span data-start="33401" data-end="38650">Doctor! You’ve got to help me! Nobody ever listens to me.</span> <span data-start="38651" data-end="42050">No one ever pays any attention to what I have to say.</span></p>
				<p><span class='acnt'>Doctor:</span> <span data-start="42051" data-end="45100">Next please!</span></p>

				<img id="snail" class="wrap-ready img-responsive" src='snail-front.jpg'>
				<h4><span data-start="49800" data-end="51700">Slow Times</span></h4>
				<p><span data-start="51701" data-end="61150">A <a class="new-word" data-word="a snail" data-type="n" data-en="a little animal with a hard shell on its back" data-fa="حلزون">snail</a> walks into a bar and the barman tells him there’s a strict policy about having snails in the bar and <a class="new-word" data-word="to kick someone out" data-type="phr vb" data-en="to order someone to leave a place, often with physical force" data-fa="با لگد کسی را بیرون کردن">kicks him out</a>.</span> <span data-start="61151" data-end="65820">A year later, that same snail re-enters the bar and asks the barman,</span> <span data-start="65821" data-end="69000">“What did you do that for?”</span></p>

				<h4><span data-start="75680" data-end="79000">Mistaken Identity</span></h4>
				<p><span class='acnt'>Lady Bracket:</span> <span data-start="79001" data-end="85300">Just look at that young person with the short hair and blue jeans.</span> <span data-start="83251" data-end="85300">Is it a boy or a girl?</span></p>
				<p><span class='acnt'>Jane:</span> <span data-start="85301" data-end="88200">It’s a girl. She’s my daughter.</span></p>
				<p><span class='acnt'>Lady Bracket:</span> <span data-start="88201" data-end="92500">Oh, I’m sorry. I didn't know that you were her father.</span></p>
				<p><span class='acnt'>Jane:</span> <span data-start="92501" data-end="97400">I’m not. I’m her mother.</span></p>

				<img id="broken-finger" class="wrap-ready img-responsive" src='broken-finger.png'>
				<h4><span data-start="101700" data-end="103600">Painful Problems</span></h4>
				<p><span data-start="103601" data-end="110000">A man goes to the doctor and says, “Doctor, wherever I touch, it hurts.”</span> <span data-start="110001" data-end="112450">The doctor asks, “What do you mean?”</span> <span data-start="112451" data-end="116560">The man says, “When I touch my <a class="new-word" data-word="a shoulder" data-type="n" data-en="the joint at the top of your arm" data-fa="شانه (عضوی از بدن)">shoulder</a>, it really hurts.</span> <span data-start="116561" data-end="119600">If I touch my <a class="new-word" data-word="a knee" data-type="n" data-en="the joint in the middle of your leg" data-fa="زانو">knee</a> – OUCH!</span> <span data-start="119601" data-end="123700">When I touch my <a class="new-word" data-word="a forehead" data-type="n" data-en="the part of your face at the top – just below your hair" data-fa="پیشانی">forehead</a>, it really, really hurts.”</span></p>
				<p><span data-start="123701" data-end="132000">The doctor says, “I know what’s wrong with you – you’ve broken your finger!”</span> <span class="accent">★</span></p>
			</div>

			<div id="bottom-margin"></div>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					.cem-container { height: " + height + "px; padding-left: " + horizontalMargin + "px; padding-right: " + horizontalMargin + "px; } \
					h4 { color: #" + accentColor + "; } \
					.acnt { color: " + tinycolor(accentColor).darken().darken() + "; } \
					#top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					#bottom-margin { height: " + (bottomMargin) + "px; }"
				);
			}

			container = $('.cem-container')[0];
			prevScroll = 0;

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					scroll: prevScroll,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				container.scrollTop = ((state['scroll'] || 0) * container.scrollHeight);
				prevScroll = container.scrollTop / container.scrollHeight;

				restoringInstanceState = false;
			}

			setInterval(function() {
				scroll = container.scrollTop / container.scrollHeight;
				if(scroll != prevScroll) {
					prevScroll = scroll;
					saveInstanceState();
				}
			}, 3000);

			lastScrollTop = 0;
			if(typeof(app) != 'undefined') {
				$('.cem-container').scroll(function() {
					if(container.scrollTop < topMargin) {
						if(container.scrollTop < lastScrollTop && lastScrollTop >= topMargin)
							app.setToolbarScrollable(false);

					} else if(lastScrollTop < topMargin)
							app.setToolbarScrollable(true);

					lastScrollTop = container.scrollTop;
				});
			}

			// var t = $('#broken-finger');
			// var w = Math.min(t.width(), t.parent().width() / 3);
			// var h = w * t.height() / t.width();
			// t.data('width', w).data('height', h).css({width: w, height: h});
			// $('.wrap-ready').slickWrap({
			// 	sourceImage: true,
			// });
			// t.parent().css('height', h);
		</script>

	</body>
</html>
