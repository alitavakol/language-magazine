<!DOCTYPE html>
<html>
	<head>
		<title>News Stories</title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css">

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			.illustrative {
				background-repeat: no-repeat;
				background-size: cover;
				background-position: center;
				padding-bottom: 60%;
				-webkit-box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.12), 0 1px 6px 0 rgba(0, 0, 0, 0.12);
				box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.12), 0 1px 6px 0 rgba(0, 0, 0, 0.12);
				border: 4px solid;
				text-align: center;
				position: relative;
			}
			.title {
				background: white;
				border: 4px solid;
				padding: 8px;
				display: inline-block;
			}
			.title-container {
				position: absolute;
				bottom: -4px;
				left: 0;
				right: 0;
				margin: 0 auto;
			}
			ul {
				-webkit-padding-start: 16px;
			}
			h4 {
				border: 4px solid;
				display: inline-block;
				padding: 8px;
			}
			h1, h3 {
				font-family: 'Armageda';
			}
			@font-face {
				font-family: 'Armageda'; /*a name to be used later*/
				src: url('So Random!.ttf'); /*URL to font*/
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>

		<script src="../code.js"></script>
	</head>

	<body>
		<div class="cem-container">
			<div id="top-margin"></div>

			<h1 class="alt">Functional Language</h1>
			<h3 class="alt">Useful language for successful communication.</h3>

			<h4 class="alt"><span data-start="13500" data-end="16200">Making a suggestion</span></h4>
			<div id="pics" class="row">
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('cinema.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="16201" data-end="19200" class="highlight">What about going to the cinema?</span></div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('out.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="19201" data-end="21500">How about going out tonight?</span></div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('pub.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="21501" data-end="24000">Shall we go to the pub tomorrow?</span></div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('theatre.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="24001" data-end="26000">Let’s go to the theatre.</span></div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('picnic.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="26001" data-end="28800">Do you fancy going on a picnic?</span></div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('eat.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="28801" data-end="31000">Why don’t we eat out tonight?</span></div>
						</div>
					</div>
				</div>
				<div class="col-md-6 col-lg-4">
					<div class="illustrative" style="background-image: url('video.jpg');">
						<div class="title-container">
							<div class="title"><span data-start="31001" data-end="34670">Do you want to rent a video later?</span></div>
						</div>
					</div>
				</div>
			</div>

			<h4 class="alt"><span data-start="34671" data-end="38500">Reacting to a suggestion</span></h4>
			<ul>
				<li><span data-start="38501" data-end="41240">That sounds like a good idea.</span></li>
				<li><span data-start="41241" data-end="43300">That sounds great.</span></li>
				<li><span data-start="43301" data-end="45900">That would be fantastic.</span></li>
				<li><span data-start="45901" data-end="48150">Yes, let’s do it.</span></li>
				<li><span data-start="48151" data-end="50100">That’s a good idea.</span></li>
				<li><span data-start="50101" data-end="51300">OK.</span></li>
				<li><span data-start="51301" data-end="53240">I’d love to.</span></li>
				<li><span data-start="53241" data-end="57000">I’m sorry, but I really don’t have the time.</span></li>
				<li><span data-start="57001" data-end="60160">I’m afraid I’m a bit busy at the moment.</span></li>
				<li><span data-start="60161" data-end="63700">I’m sorry but I’m not going to be able to make it.</span></li>
				<li><span data-start="63701" data-end="66600">I’d love to but I’ve got a headache.</span></li>
				<li><span data-start="66601" data-end="68650">I’ve got to go to work.</span></li>
				<li><span data-start="68651" data-end="70400">I’m too tired.</span></li>
				<li><span data-start="70401" data-end="73000">I’m not feeling very well. <span class="accent">★</span></span></li>
			</ul>

			<div id="bottom-margin"></div>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					.cem-container { height: " + height + "px; padding-left: " + horizontalMargin + "px; padding-right: " + horizontalMargin + "px; } \
					h4 { background: #" + accentColor + "; } \
					ul { color: " + tinycolor(accentColor).darken().darken() + "; } \
					li span { color: #" + textColor + "; } \
					.row { margin-left: -" + spacing + "px; margin-right: -" + spacing + "px; } \
					.col-md-6, .col-lg-4 { padding-left: " + spacing + "px; padding-right: " + spacing + "px; padding-bottom: " + (2*spacing) + "px; } \
					#top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					#bottom-margin { height: " + (bottomMargin) + "px; }"
				);
			}

			container = $('.cem-container')[0];
			prevScroll = 0;

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					scroll: prevScroll,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				container.scrollTop = ((state['scroll'] || 0) * container.scrollHeight);
				prevScroll = container.scrollTop / container.scrollHeight;

				restoringInstanceState = false;
			}

			setInterval(function() {
				scroll = container.scrollTop / container.scrollHeight;
				if(scroll != prevScroll) {
					prevScroll = scroll;
					saveInstanceState();
				}
			}, 3000);

			lastScrollTop = 0;
			if(typeof(app) != 'undefined') {
				$('.cem-container').scroll(function() {
					if(container.scrollTop < topMargin) {
						if(container.scrollTop < lastScrollTop && lastScrollTop >= topMargin)
							app.setToolbarScrollable(false);

					} else if(lastScrollTop < topMargin)
							app.setToolbarScrollable(true);

					lastScrollTop = container.scrollTop;
				});
			}
		</script>

	</body>
</html>
