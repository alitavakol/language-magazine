<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<!-- <link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css"> -->

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			#title-container {
				background-color: rgba(50,50,50,.8);
				display: inline-block;
			}
			.label-container {
				display: inline-block;
				padding: 10px;
				margin-left: 10px;
				margin-right: 10px;
				margin-top: 6px;
				margin-bottom: 6px;
				-webkit-box-shadow: 0 1px 1.5px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				/*font-weight: bold;*/
			}
			.label-container.gone {
				opacity: .2;
				-webkit-box-shadow: inherit;
				box-shadow: inherit;
			}
			.label-container.attached {
				visibility: hidden;
			}
			.label-base {
				position: absolute;
				left: 0;
				right: 0;
				bottom: -16px;
				vertical-align: center;
			}
			.visible {
				visibility: visible !important;
			}
			.image-container {
				text-align: center;
				padding: 8px;
				margin-bottom: 12px;
			}
			#images {
				padding: 10px;
				padding-top: 16px;
			}
			#images img {
				-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				border: solid 3px black;
				width: 100%;
			}
			#labels {
				margin-left: -10px;
			}
			body {
				overflow-y: scroll;
			}
			h4 {
				font-weight: 400;
				margin-top: 20px;
			}
			h5 {
				padding-top: 6px;
				padding-bottom: 6px;
				font-weight: bold;
				border-bottom: 1px solid;
			}
			h1, h3 {
				margin-top: 0;
			}
			ol, ul {
				padding-left: 1.2em;
			}
			li {
				font-weight: bold;
			}
			li > span {
				font-weight: normal;
			}
			.lockable {
				background-size: cover;
				background-repeat: no-repeat;
				background-position: center;
			}
			input {
				display: inline-block;
				padding-top: 0;
				padding-bottom: 0;
				/*margin-left: 4px;*/
				width: 1.7em;
				border: solid 1px black;
				text-align: center;
				vertical-align: middle;
				font-weight: bold;
				text-transform: lowercase;
				/*height: 90%;*/
				color: black;
				margin-bottom: 4px;
			}
			input:focus {
				outline: none;
			}
			.img-circle {
				-webkit-box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				width: 90%;
				/*margin-top: 16px;*/
				/*border: solid 3px transparent;*/
				/*padding: 8px;*/
			}
			.row {
				margin-left: 0;
				margin-right: 0;
				/*margin-top: 12px;*/
				/*max-width: 480px;*/
				display: inline-block;
			}
			.label {
				/*position: relative;*/
				border: solid 2px black;
				background-color: black;
				color: white;
				/*bottom: 36px;*/
				display: inline-block;
				padding-left: 8px;
				padding-right: 8px;
				padding-top: 4px;
				padding-bottom: 4px;
				-webkit-box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				box-shadow: 0 1px 6px 0 rgba(0,0,0,.12),0 1px 6px 0 rgba(0,0,0,.12);
				margin-bottom: 16px;
				/*margin-top: -8px;*/
			}
			.correct {
				background-color: lightgreen;
			}
			.incorrect {
				background-color: lightcoral;
			}
			.no-margin {
				padding-left: 0;
				padding-right: 0;
			}
			.box {
				border: dotted 1px black;
				text-align: center;
			}
			.choice {
				font-weight: bold;
			}
			.choice.wrong {
				text-decoration: line-through;
			}
			.choice.right {
				text-decoration: none;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/jquery.mobile.custom.min.js"></script>
		<script src="../../../../src/main/assets/jquery.mobile.custom.min.js"></script>
		<script src="jquery-ui.min.js"></script>
		<script src="jquery.ui.touch-punch.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>

		<script src="../code.js"></script>
		<script src="../debug.js"></script>
	</head>

	<body>
		<div class="foundation">
			<div id="top-margin"></div>

			<h1>Wash Out</h1>
			<h3>The latest fashions in washing and showering.</h3>

			<h4><span class="accent">❶</span> <b>Pre reading</b></h4>
			<p>Match the words to the pictures.</p>
			<div class="box">
				<div id="labels"></div>
				<div id="images" class="row"></div>
			</div>

			<h4><span class="accent">❷</span> <b>Listening</b></h4>
			<p>This article is about some changes in the way that people wash / clean themselves. What do you think these changes are? Think. Then, listen to the article once to compare your ideas. Listen many times!</p>

			<div class="lockable"><div id="transcript" style="background-size: contain; background-repeat: no-repeat; background-position: center;">
				<p><span data-start="12409" data-end="15826">Washing habits have changed over the years.</span> <span data-start="15827" data-end="22362">In the 16th century, most people had a bath once a month&#8230; if they were lucky.</span> <span data-start="22363" data-end="26482">Up until the 1950s, it was once a week.</span> <span data-start="26483" data-end="32489">Only just recently has the concept of daily <a class="new-word" data-word="to shower" data-type="vb" data-en="to wash under a shower (a system of washing that consists of a hose or pipe with a piece of metal at the end with holes in it for the water to come out)">showering</a> become popular.</span> <span data-start="32490" data-end="38040">But now, according to the New York Times, things are changing again.</span></p>
				<p><span data-start="38041" data-end="41908">The latest <a class="new-word" data-word="a trend" data-type="n" data-en="a fashion; something that many people are doing">trend</a> is known as “soap-<a class="new-word" data-word="to dodge" data-type="vb" data-en="if you “dodge” something, you avoid it / stay away from it / don't do it">dodging</a>”.</span> <span data-start="41909" data-end="49838">It basically consists of washing less, having fewer showers and using less soap and <a class="new-word" data-word="a deodorant" data-type="n" data-en="a substance that you put under your arms to stop bad smells ">deodorant</a>.</span> <span data-start="49839" data-end="56450">“I just wash my hair once a month now,” said Brett Dawson, a 32-year-old management consultant.</span> <span data-start="56451" data-end="64200">“I use a <a class="new-word" data-word="a slice" data-type="n" data-en="a “slice” of lemon is a small piece of the lemon that has been cut">slice</a> of lemon instead of the usual deodorant,” said 35-year-old computer analyst Brandon Smith.</span> <span data-start="64201" data-end="70107">“I have just one bath a week,” said Miriam Bayliss, a 28-year-old accountant.</span></p>
				<p><span data-start="70108" data-end="73557">And it appears to be growing in popularity.</span> <span data-start="73558" data-end="86250">A <a class="new-word" data-word="a poll" data-type="n" data-en="a series of questions that are asked in order to get opinions / information">poll</a> last year for <a class="new-word" data-word="a tissue" data-type="n" data-en="a thin piece of paper often used for cleaning your nose">tissue</a> <a class="new-word" data-word="a manufacturer" data-type="n" data-en="a company that makes something">manufacturer</a> SCA found that 41% of British men and 33% of women don’t shower every day.</span> <span data-start="86251" data-end="91387">And 12% of people have a proper wash just once or twice a week.</span> <span data-start="91388" data-end="105464">Further <a class="new-word" data-word="research" data-type="n" data-en="the investigation or study of something">research</a> by Mintel found that more than half of British teenagers don’t wash every day – with many <a class="new-word" data-word="to opt for" data-type="phr vb" data-en="to choose">opting for</a> a quick spray of deodorant to <a class="new-word" data-word="to mask" data-type="vb" data-en="if A “masks” B, A covers / hides B so people can’t notice / see it">mask</a> any smell.</span> <span data-start="105465" data-end="106923">But why?</span></p>
				<p><span data-start="106924" data-end="109911">There are a variety of reasons.</span> <span data-start="109912" data-end="116916">Some claim that daily hair-washing (or even any hair-washing at all) is unnecessary.</span> <span data-start="116917" data-end="123222">Commentator Matthew Parris admitted that he hadn’t shampooed his hair for a <a class="new-word" data-word="a decade" data-type="n" data-en="a period of 10 years">decade</a>.</span> <span data-start="123223" data-end="126914">Others say they just don’t have the time.</span> <span data-start="126915" data-end="139700">In 2008, the <a class="new-word" data-word="a chemist" data-type="n" data-en="a person who makes / sells medication, legal drugs, cures, etc.">chemist</a> Boots reported a 45% <a class="new-word" data-word="a rise" data-type="n" data-en="an increase">rise</a> in sales of dry shampoo – a product that can be sprayed on hair between showers.</span></p>
				<p><span data-start="139701" data-end="142834">And some people want to help the environment.</span> <span data-start="142835" data-end="151707">“I limit my showers to about twice a week,” said Nigel Hamerstone, a 42-year-old architect.</span> <span data-start="151708" data-end="155117">“The rest of the time I have a <a class="new-word" data-word="a sink wash" data-type="exp" data-en="if someone has a “sink wash”, they wash in the sink (an object in a bathroom that you can fill with water / brush your teeth over, etc.)">sink wash</a>,” he adds.</span> <span data-start="155118" data-end="169522">“I believe that I’m as clean as everyone else, and it’s helped <a class="new-word" data-word="to get down" data-type="phr vb" data-en="to decrease; to reduce">get</a> my water consumption <a class="new-word" data-word="to get down" data-type="phr vb" data-en="to decrease; to reduce">down</a> to around 20 litres a day – well below the 100 to 150 average in the UK.”</span></p>
				<p><span data-start="169523" data-end="180955">The use of deodorant has fallen too. Some are concerned about the possible links between the aluminium in some <a class="new-word" data-word="antiperspirant" data-type="n" data-en="a type of deodorant that stops a person from sweating (when liquid comes out of the skin)">antiperspirants</a> and <a class="new-word" data-word="Alzheimer’s disease" data-type="n" data-en="a mental condition that elderly people suffer from. One of the symptoms is memory loss (not being able to remember things)">Alzheimer’s disease</a>.</span> <span data-start="180956" data-end="188858">Others have discovered the benefits of crystal sticks (also known as “crystal mineral deodorant stones”).</span> <span data-start="188859" data-end="197851">These mineral salts prevent <a class="new-word" data-word="body odour" data-type="exp" data-en="the natural (but often unpleasant) smell from people’s bodies">body odour</a> from occurring naturally by forming a <a class="new-word" data-word="a layer" data-type="n" data-en="a “layer” of something is a very small amount of it that covers a surface">layer</a> on the skin which kills the bacteria.</span> <span data-start="197852" data-end="203450">They’re non-<a class="new-word" data-word="sticky" data-type="adj" data-en="if something is “sticky”, it becomes attached to other things (like glue)">sticky</a>, non-<a class="new-word" data-word="to stain" data-type="vb" data-en="to leave a mark which is impossible/difficult to remove by cleaning">staining</a> and they haven’t been tested on animals.</span></p>
				<p><span data-start="203451" data-end="208974">So, will you be joining the new “washing revolution”?</span></p>
			</div></div>

			<h4><span class="accent">❸</span> <b>Reading</b></h4>
			<p>Read the article. Then, complete the sentences with the correct words.</p>
			<ol>
 				<li><span data-ans="less">Soap-dodging consists of showering <span class="choice">more</span> / <span class="choice">less</span>.</span></li>
				<li><span data-ans="don’t shower">41% of British men <span class="choice">shower</span> / <span class="choice">don’t shower</span> every day.</span></li>
				<li><span data-ans="don’t wash">More than half of British teenagers <span class="choice">don’t wash</span> / <span class="choice">wash</span> every day.</span></li>
				<li><span data-ans="10">One person admitted that he hadn’t washed his hair for <span class="choice">five</span> / <span class="choice">10</span> years.</span></li>
				<li><span data-ans="fallen">The use of deodorants has <span class="choice">risen</span> / <span class="choice">fallen</span>.</span></li>
			</ol>

			<h4><span class="accent">❹</span> <b>Language Focus: <span class="accent">Expressions with <i>have</i></span></b></h4>
			<p>Look at this extract from the article on this page, <span style="font-weight: 300;">“&#8230;most people had a bath once a month&#8230;”</span> The writer has used an expression with “have” (“have a bath”). Make sentences with the following expressions.</p>
			<ol>
				<li><span>Have a shower</span></li>
				<li><span>Have an argument</span></li>
				<li><span>Have a good time</span></li>
				<li><span>Have an idea</span></li>
				<li><span>Have a swim</span></li>
			</ol>

			<h4><span class="accent">❺</span> <b>Discussion</b></h4>
			<ol>
				<li><span>What’s your favourite type of shampoo? Why?</span></li>
				<li><span>What type of deodorant or antiperspirant do you use?</span></li>
				<li><span>What brand of soap do you use? Why?</span></li>
			</ol>

			<div id="bottom-margin"></div>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			var mixed_label_ids = [3, 5, 1, 4, 0, 2];
			var images = ['Hairspray', 'Brush', 'Razorblade', 'Shampoo', 'Soap','Deodorant'];
			var image_template = "<div class='image-container col-xs-6 col-sm-4 col-md-3 col-lg-2' data-label='{label}'><img src='{img}.jpg' class='img-circle img-responsive'><div class='label-base'><div class='label-container attached'>{label}</div></div></div>";
			var label_template = "<div class='label-container draggable' data-label='{label}'>{label}</div>";

			container = $('#images');
			i = 0;
			images.forEach(function(img) {
				 container.append(image_template.replace('{img}', ++i).replace(/\{label\}/g, img));
			});

			container = $('#labels');
			mixed_label_ids.forEach(function(id) {
				 container.append(label_template.replace(/\{label\}/g, images[id]));
			});

			dropped_elements = [];

			$('.draggable').draggable({
				revert: 'invalid',
				containment: 'body',
				zIndex: 2,
				appendTo: 'body',
				helper: 'clone',
				scrollSensitivity: 40,
				scrollSpeed: 10,
				start: function(e,u) {
					$('.label-container').removeClass('selected');
					$(e.target).addClass('gone');
				},
				stop: function(e,u) {
					if(!$(e.target).data('gone'))
						$(e.target).removeClass('gone').trigger('tap');
				},
			});
			$('.draggable').tap(function() {
				if(!$(this).hasClass('gone')) {
					$('.label-container').removeClass('selected');
					$(this).addClass('selected');
				}
			});

			$('.image-container').droppable({
				activate: function(ev, ui) {
				},
				deactivate: function(ev, ui) {
				},
				drop: function(event, ui) {
					drop(ui.draggable, $(this));
				}
			});
			$('.image-container').tap(function() {
				drop($('.draggable.selected'), $(this));
			});

			drop = function(dropped, dropzone) {
				if(!dropped.length || !dropzone.length)
					return;

				var label = dropzone.data('label');
				if(label == dropped.html()) {
					dropzone.find('.label-container').addClass('visible');
					dropped.draggable('disable');
					dropped.data('gone', true).removeClass('selected').addClass('gone');

					if(dropped_elements.indexOf(label) == -1) {
						dropped_elements.push(label);
						saveInstanceState();
					}

				} else {
					dropped.removeClass('gone');
					$('.label-container').removeClass('selected');
					if(typeof(app) != 'undefined')
						app.makeToast('That\'s not right.', false);
				}
			}

			$('.choice').tap(function() {
				t = $(this);
				u = t.parent().find('.choice');
				u.removeClass('wrong right');
				if(t.parent().data('ans') == t.html()) {
					u.addClass('wrong');
					t.addClass('right');
					saveInstanceState();
				} else
					app.makeToast('That\'s not right.', false);
			});

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					body { background: -webkit-linear-gradient(#" + accentColor + ",#" + backgroundColor + "); background-repeat: no-repeat; -webkit-background-attachment: fixed; } \
					.foundation { margin-left: " + horizontalMargin + "px; padding-left: " + horizontalMargin + "px; padding-right: " + horizontalMargin + "px; background-color: #" + backgroundColor + "; } \
					#top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					h1 { color: " + tinycolor(accentColor).darken() + "; font-weight: bold; } \
					h5 { border-color: #" + accentColor + "; color: #" + accentColor + "; } \
					#bottom-margin { height: " + bottomMargin + "px; } \
					ul > li { color: #" + accentColor + "; } \
					ul > li > span { color: #" + textColor + "; } \
					.box { padding-top: " + (2*spacing) + "px; padding-left: " + spacing + "px; padding-right: " + spacing + "px; } \
					.choice.right { color: " + tinycolor(accentColor).darken().darken().darken() + "; } \
					.label-container { background-color: " + highlightColor + "; } \
					.label-container.selected { background-color: #" + accentColor + "; } \
				");
			}

			prevScroll = 0;

			lock = function(b) {
				transcriptLocked = b;

				if(b) {
					$('#transcript').css('background-image', 'url("key-enter-access-door-place-512.png")').children().css('visibility', 'hidden');
					$('.lockable').css('background-image', "url('cover.jpg')");

				} else {
					$('#transcript').css('background-image', '').children().css('visibility', '');
					$('.lockable').css('background-image', '');
				}

				saveInstanceState();
			}

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					transcriptLocked: transcriptLocked,
					scroll: prevScroll,
					choices: $('.choice.right').map(function() { return this.innerHTML; }).get(),
					dropped_elements: dropped_elements,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				lock(state.transcriptLocked || true);

				dropped_elements = state['dropped_elements'] || [];
				dropped_elements.forEach(function(label) {
					drop($(".label-container[data-label='" + label + "']"), $(".image-container[data-label='" + label + "']"));
				});

				$('body').scrollTop((state['scroll'] || 0) * $('body').height());
				prevScroll = $('body').scrollTop() / $('body').height();

				if(state['choices']) {
					state.choices.forEach(function(choice) {
						$(".choice:contains('" + choice + "')").tap();
					});
				}

				restoringInstanceState = false;
			}

			taphold = false;
			$('.lockable').tap(function() {
				if(transcriptLocked && !taphold)
					app.makeToast('Tap and hold to reveal transcript.', false);
				taphold = false;
			});
			$('.lockable').taphold(function() {
				taphold = true;
				if(transcriptLocked)
					app.lockTranscript(!transcriptLocked);
			});

			if(typeof(app) != 'undefined')
				app.showLockControls(true);

			setInterval(function() {
				scroll = $('body').scrollTop() / $('body').height();
				if(scroll != prevScroll) {
					prevScroll = scroll;
					saveInstanceState();
				}
			}, 3000);
		</script>
	</body>
</html>
