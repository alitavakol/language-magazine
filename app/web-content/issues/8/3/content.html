<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">

		<!-- Material Design fonts -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/ubuntu.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/ubuntu.css">

		<!-- Bootstrap -->
		<link rel="stylesheet" type="text/css" href="file:///android_asset/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../src/main/assets/bootstrap.min.css">

		<!-- Bootstrap Material Design -->
		<!-- <link rel="stylesheet" type="text/css" href="bootstrap-material-design.min.css"> -->

		<link rel="stylesheet" type="text/css" href="../styles.css">

		<style id="dynamic-rules">
		</style>

		<style type="text/css">
			body {
				overflow-y: scroll;
			}
			h1, h4 {
				margin-bottom: 0;
				color: #eee;
			}
			.title {
				position: relative;
				border-left: solid 2px black;
				border-right: solid 2px black;
				border-top: solid 2px black;
			}
			.title-container {
				position: absolute;
				bottom: 0;
				left: 0;
				text-shadow: 0px 0px 6px rgba(0,0,0,1);
				background: -webkit-linear-gradient(rgba(47,38,29,0),rgba(47,38,29,1));
				padding-bottom: 16px;
				width: 100%;
				margin-bottom: -1px;
			}
			.lockable {
				border-left: solid 2px black;
				border-right: solid 2px black;
				border-bottom: solid 2px black;
				background-color: #2f261d;
				color: #ddd;
			}
			.dotted {
				background-image: -webkit-repeating-radial-gradient(center center, rgba(255,255,255,.6), rgba(255,255,255,.2) 1px, transparent 1px, transparent 100%);
				background-image: repeating-radial-gradient(center center, rgba(255,255,255,.6), rgba(255,255,255,.2) 1px, transparent 1px, transparent 100%);
				-webkit-background-size: 5px 5px;
				background-size: 5px 5px;
			}
			.frame {
				padding: 4px;
				-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);
				background-color: white;
				-webkit-transform: rotate(3deg);
				transform: rotate(3deg);
			}
			.new-word, .new-word:focus, .new-word:hover {
				color: white;
			}
			.highlight {
				background-color: #6b5e4e;
			}
		</style>

		<style id="local-rules">
		</style>

		<script src="file:///android_asset/jquery-1.11.3.min.js"></script>
		<script src="../../../../src/main/assets/jquery-1.11.3.min.js"></script>
		<script src="file:///android_asset/jquery.mobile.custom.min.js"></script>
		<script src="../../../../src/main/assets/jquery.mobile.custom.min.js"></script>
		<script src="file:///android_asset/tinycolor-min.js"></script>
		<script src="../../../../src/main/assets/tinycolor-min.js"></script>

		<script src="../code.js"></script>
		<script src="../debug.js"></script>
	</head>

	<body>
		<div class="foundation">
			<div id="top-margin"></div>

			<div class="title">
				<img src="cover.jpg" style="width: 100%;">
				<div class="title-container">
					<h1>Ghostly Land</h1>
					<h4>England is Europe’s most haunted country.</h4>
				</div>
			</div>

			<div class="lockable dotted"><div id="transcript" style="background-size: contain; background-repeat: no-repeat; background-position: center;">
				<p style="padding-top: 8px;">
					<span data-start="12573" data-end="18635">A recent television <a class="new-word" data-word="a documentary" data-type="n" data-en="a film or television or radio programme that provides a factual report on a particular subject" data-fa="فیلم یا گزارش مستند">documentary</a> has claimed that England is Europe’s most <a class="new-word" data-word="haunted" data-type="adj" data-en="if a house is “haunted”, there is a ghost there">haunted</a> country.</span> <span data-start="18636" data-end="25250">Many of the older houses, churches and castles across the country are said to be the <a class="new-word" data-word="home to" data-type="exp" data-en="with; containing">home to</a> ghosts.</span> <span data-start="25251" data-end="30128">And there is now increasing scientific evidence to support the claims.</span> <span data-start="30129" data-end="35707">Scientists can <a class="new-word" data-word="to monitor" data-type="vb" data-en="to observe scientifically ">monitor</a> areas suspected to be <a class="new-word" data-word="to inhabit" data-type="vb" data-en="to live; to occupy" data-fa="ساکن شدن، مسکن گزیدن">inhabited</a> by ghosts.</span> <span data-start="35708" data-end="43307">They can analyse different sound frequencies, and also use infrared technology to study movement.</span> <span data-start="43308" data-end="50476">One of the ten most feared ghosts in England is a <a class="new-word" data-word="a werewolf" data-type="n" data-en="a monster that is half-man, half-wolf">werewolf</a> that <a class="new-word" data-word="to wander" data-type="vb" data-en="to walk around with no particular purpose/objective">wanders</a> across the Yorkshire Moors.</span> <span data-start="50477" data-end="58407">Susan Rose a resident of the village of Muston says, “The werewolf is often seen walking around the church.</span> <span data-start="58408" data-end="63900">If it has been out, then the next morning there is a strong <a class="new-word" data-word="a stench" data-type="n" data-en="a terrible, powerful smell">stench</a> around the village.”</span> <span data-start="63901" data-end="73962">London is also home to many ghosts, and the London Underground network is reported to be the home to as many as eight separate ghost or spirits.</span> <span data-start="73963" data-end="84590">One of these is at Covent Garden station, where a tall man in a long coat, a big hat and white <a class="new-word" data-word="gloves" data-type="n" data-en="clothing you wear on your hands">gloves</a> has been seen since the 1950s.</span> ✪
				</p>
			</div></div>

			<div id="bottom-margin"></div>
		</div>

		<script type="text/javascript">
			restoringInstanceState = false;

			adjustCustomLayout = function(options) {
				$('#local-rules').text("\
					body { background: -webkit-linear-gradient(#" + accentColor + ",#" + backgroundColor + "); background-repeat: no-repeat; -webkit-background-attachment: fixed; } \
					.foundation { margin-left: " + horizontalMargin + "px; padding-left: " + horizontalMargin + "px; padding-right: " + horizontalMargin + "px; background-color: #" + backgroundColor + "; } \
					#top-margin { height: " + (topMargin+verticalMargin) + "px; } \
					#bottom-margin { height: " + bottomMargin + "px; } \
					.lockable, .title-container { padding-left: " + spacing + "px; padding-right: " + spacing + "px; } \
					#title-container { background: -webkit-linear-gradient(" + tinycolor(textColor).setAlpha(0).toRgbString() + "," + tinycolor(textColor).toRgbString() + "); } \
				");
			}

			prevScroll = 0;

			lock = function(b) {
				transcriptLocked = b;

				if(b) {
					$('#transcript').css('background-image', 'url("key.png")').children().css('visibility', 'hidden');
					$('.lockable').addClass('dotted');

				} else {
					$('#transcript').css('background-image', '').children().css('visibility', '');
					$('.lockable').removeClass('dotted');
				}

				saveInstanceState();

				if(typeof(app) != 'undefined' && typeof(app.setLongClickable) == 'function')
					app.setLongClickable(!b);
			}

			saveInstanceState = function() {
				if(restoringInstanceState)
					return;

				outState = {
					transcriptLocked: transcriptLocked,
					scroll: prevScroll,
				};

				if(typeof(app) != 'undefined')
					app.saveInstanceState(JSON.stringify(outState));
			}

			restoreInstanceState = function(savedInstanceState) {
				restoringInstanceState = true;
				state = JSON.parse(savedInstanceState);

				lock(state.transcriptLocked || true);

				$('body').scrollTop((state['scroll'] || 0) * $('body').height());
				prevScroll = $('body').scrollTop() / $('body').height();

				restoringInstanceState = false;
			}

			taphold = false;
			$('.lockable').tap(function() {
				if(transcriptLocked && !taphold)
					app.makeToast('Tap and hold to reveal transcript.', false);
				taphold = false;
			});
			$('.lockable').taphold(function() {
				taphold = true;
				if(transcriptLocked)
					app.lockTranscript(!transcriptLocked);
			});

			if(typeof(app) != 'undefined')
				app.showLockControls(true);

			setInterval(function() {
				scroll = $('body').scrollTop() / $('body').height();
				if(scroll != prevScroll) {
					prevScroll = scroll;
					saveInstanceState();
				}
			}, 3000);

			lastScrollTop = 0;
			if(typeof(app) != 'undefined') {
				$(document).scroll(function() {
					scrollTop = $(document).scrollTop();

					if(scrollTop < topMargin) {
						if(scrollTop < lastScrollTop && lastScrollTop >= topMargin)
							app.setToolbarScrollable(false);

					} else if(lastScrollTop < topMargin)
							app.setToolbarScrollable(true);

					lastScrollTop = scrollTop;
				});
			}

			if(typeof(app) != 'undefined') {
				if(typeof(app.showGlossaryEx) == 'function') {
					$(document).ready(function() {
						$('a.new-word').prop('onclick', null).off('click').click(function() {
							var rect = this.getBoundingClientRect();
							app.showGlossaryEx($(this).data('word'), rect.left  * window.devicePixelRatio, rect.top * window.devicePixelRatio, $(this).height() * window.devicePixelRatio, false);
							return false;
						});
					});
				}
			}
		</script>
	</body>
</html>